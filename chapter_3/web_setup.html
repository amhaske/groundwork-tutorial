<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.1. Web application setup &#8212; groundwork tutorial 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/groundwork.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.2. Database views made simple" href="db_viewer.html" />
    <link rel="prev" title="3. groundwork and the web" href="index.html" />
     
        
    <link rel="apple-touch-icon" href="../_static/""" />
        
    <link media="only screen and (max-device-width: 480px)" href="../_static/small_groundwork.css" type= "text/css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="db_viewer.html" title="3.2. Database views made simple"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="3. groundwork and the web"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">groundwork tutorial 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">3. groundwork and the web</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="web-application-setup">
<span id="web-setup"></span><h1>3.1. Web application setup<a class="headerlink" href="#web-application-setup" title="Permalink to this headline">¶</a></h1>
<div class="section" id="using-gwweb">
<h2>3.1.1. Using GwWeb<a class="headerlink" href="#using-gwweb" title="Permalink to this headline">¶</a></h2>
<p>Before we start coding our own views for our new web application, we need to configure our app to support the basic
features for a web application.</p>
<p>Open the file <code class="docutils literal"><span class="pre">configuration.py</span></code> and configure it to use the following plugins:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">PLUGINS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;csv_manager_plugin&quot;</span><span class="p">,</span> <span class="s2">&quot;GwPluginsInfo&quot;</span><span class="p">,</span> <span class="s2">&quot;CsvWatcherDbPlugin&quot;</span><span class="p">,</span> <span class="s2">&quot;CsvDocumentPlugin&quot;</span><span class="p">,</span> <span class="s2">&quot;GwDocumentsInfo&quot;</span><span class="p">,</span>
           <span class="s2">&quot;GwWeb&quot;</span><span class="p">,</span> <span class="s2">&quot;GwWebManager&quot;</span><span class="p">,</span> <span class="p">]</span>
</pre></div>
</div>
<p>As you can see, we have added <strong>GwWeb</strong> and <strong>GwWebManager</strong>.</p>
<p><strong>GwWeb</strong> will provide command line commands to start a web server. It also handles the configuration and ramp up of
the <a class="reference external" href="http://flask.pocoo.org/">flask framework</a> in the background.</p>
<p><strong>GwWebManager</strong> is not really needed, as it <em>only</em> provides some views to show groundwork internal data like
registered commands, signals, plugins, web views and much more. It is very helpful for developers to see the current
status of an application without the need of debugging the code for a first overview.</p>
<p>Please also add the following, new configuration parameters to <code class="docutils literal"><span class="pre">configuration.py</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FLASK_SERVER_NAME</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1:5000&quot;</span>
<span class="n">FLASK_HOST</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span>
<span class="n">FLASK_PORT</span> <span class="o">=</span> <span class="mi">5000</span>
<span class="n">FLASK_DEBUG</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>These parameters are used to configure <a class="reference external" href="http://flask.pocoo.org/">flask</a>.</p>
<p><strong>FLASK_SERVER_NAME</strong> must be set to the domain you will use in your browser to view the web application.
This is very important, as flask can handle multiple apps in parallel, which all are registered for different domains
(e.g. example.com and my_site.net). Depending on which domain is called, flask looks into its configuration and
loads the requested view.
So if you use &#8220;127.0.0.1:5000&#8221; and try to open your site with &#8220;localhost:5000&#8221;, you will get a 404 response for all
views. Please note that also the port must be part of <strong>FLASK_SERVER_NAME</strong>.</p>
<p><strong>FLASK_HOST</strong> is the external address to which the server gets bound. Normally &#8220;127.0.0.1&#8221; or &#8220;0.0.0.0&#8221; are working
well. If your computer provides several outgoing ethernet interfaces, a specific IP may be needed to bound the server to
one interface only.</p>
<p><strong>FLASK_PORT</strong> stores the port, which shall be used for connections.</p>
<p>And <strong>FLASK_DEBUG</strong> starts the flask server in debugging mode. The debugging mode will catch exceptions and presents
the traceback as web view. It also restarts the server, if it detects changes on related files.
However, it starts the application also twice, in 2 separated processes. Which makes it hard to set breakpoints and
debug it inside an IDE.</p>
<p>Now let&#8217;s start our new web app and see, if we have configured everything correct by opening the WebManager:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">csv_manager</span> <span class="n">server_start</span> <span class="n">flask_debug</span>
</pre></div>
</div>
<p>Now open the WebManager at <a class="reference external" href="http://127.0.0.1:5000/webmanager/">http://127.0.0.1:5000/webmanager/</a>.</p>
<p>That&#8217;s it. Everything should run now as expected. It&#8217;s time to take a look into our database via the browser.
Go on with <a class="reference internal" href="db_viewer.html#db-viewer"><span class="std std-ref">Database views made simple</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/gw_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3.1. Web application setup</a><ul>
<li><a class="reference internal" href="#using-gwweb">3.1.1. Using GwWeb</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">3. groundwork and the web</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">3. groundwork and the web</a></li>
      <li>Next: <a href="db_viewer.html" title="next chapter">3.2. Database views made simple</a></li>
  </ul></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/chapter_3/web_setup.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
    
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    

        </div>
      </div>
      <div class="clearer"></div>
    </div>
 
        <div class="github_fork">
            <a href="http://github.com/useblocks/groundwork-tutorial">
                <img style="position: fixed; top: 0; right: 0; border: 0;"
                     src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
                     alt="Fork me on GitHub">
            </a>
        </div>
    


    <div class="footer">
      &copy; Copyright 2017, team useblocks.
    </div>
  </body>
</html>